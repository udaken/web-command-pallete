<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Command Palette Options</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
        <div class="container">
            <h1>Web Command Palette Options</h1>
            
            <div class="section">
                <h2>General Settings</h2>
                <div class="setting-group">
                    <label>Keyboard Shortcut:</label>
                    <div class="input-group">
                        <input type="text" id="shortcut-input" placeholder="Click and press keys" readonly style="width: 200px;">
                        <button id="reset-shortcut">Reset</button>
                    </div>
                </div>
                <div class="setting-group">
                    <label>Excluded URLs (Regex, one per line):</label>
                    <textarea id="excluded-urls" rows="3" placeholder="^https://mail\.google\.com&#10;.*example\.com"></textarea>
                </div>
                <div class="setting-group">
                    <label>Allowed Click URLs (Regex, one per line):</label>
                    <textarea id="allowed-click-urls" rows="3" placeholder="^https://www\.google\.com&#10;^https://github\.com"></textarea>
                    <p style="font-size: 0.8em; color: #666; margin-top: 4px;">For security, "click" actions are converted to "focus" by default unless the URL matches one of these patterns.</p>
                </div>
            </div>
    
            <div class="section">
                <h2>SITEINFO URLs</h2>
                <p>Load SITEINFO from multiple external URLs (one per line).</p>
                <textarea id="siteinfo-urls" rows="3" placeholder="https://example.com/siteinfo.json"></textarea>
                <button id="update-all">Update & Save All</button>
            </div>
    
                                <div class="section">
                                    <h2>Custom SITEINFO (Local JSON)</h2>
                                    <p>Directly edit the SITEINFO definitions.</p>
                                    <details style="margin-bottom: 15px;">
                                        <summary style="cursor: pointer; color: #007bff; user-select: none;">Show JSON Schema Reference</summary>
                                        <pre id="json-schema-display" style="background: #f4f4f4; padding: 10px; border-radius: 4px; overflow-x: auto; font-size: 0.85em; margin-top: 5px; border: 1px solid #ddd;"></pre>
                                    </details>
                                    <div class="setting-group">                            <button id="import-json">Import from File</button>
                            <button id="export-json">Export to File</button>
                            <input type="file" id="import-file" style="display: none;" accept=".json">
                        </div>
                        <textarea id="siteinfo-json" rows="20" placeholder='[
                            {
                                "name": "Google Search",
                                "url": "^https://www\\.google\\.com/",
                                "commands": [
                                    {
                                        "title": "Focus Search Box",
                                        "action": "focus",
                                        "xpath": "//textarea[@name=\"q\"]"
                                    },
                                    {
                                        "title": "I am Feeling Lucky",
                                        "action": "click",
                                        "xpath": "//input[@name=\"btnI\"]"
                                    }
                                ]
                            }
                        ]'></textarea>                <div class="actions">
                    <span id="status"></span>
                </div>
            </div>
        </div>    <script type="module" src="main.js"></script>
</body>
</html>
